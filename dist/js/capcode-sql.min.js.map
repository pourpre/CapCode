{"version":3,"sources":["webpack://capcode.[name]/webpack/bootstrap","webpack://capcode.[name]/./src/core/js/capcode-utils.js","webpack://capcode.[name]/./src/sql/js/capcode-sql-reponses.js","webpack://capcode.[name]/./src/sql/js/capcode-sql.js","webpack://capcode.[name]/./src/sql/style/capcode-sql.scss?0241","webpack://capcode.[name]/external \"CodeMirror\"","webpack://capcode.[name]/external \"PerfectScrollbar\"","webpack://capcode.[name]/external \"showdown\"","webpack://capcode.[name]/external \"SQL\""],"names":["ajouterElement","ajouterElementAvant","chargerFichier","lireFichier","enregistrerFichier","creerElement","type","options","element","document","createElement","hasOwnProperty","id","innerText","text","DOMTokenList","prototype","add","apply","classList","class","disabled","htmlFor","for","src","href","title","target","parent","nouvelElement","appendChild","reference","source","callback","f","XMLHttpRequest","open","overrideMimeType","onreadystatechange","readyState","status","response","send","fichier","fileReader","FileReader","onload","event","result","readAsText","data","filename","file","Blob","window","navigator","msSaveOrOpenBlob","a","url","URL","createObjectURL","download","body","click","setTimeout","removeChild","revokeObjectURL","reponsesTests","diapo2","reponsesEntrainements","CONCEPTION","zoneDiapo","scrollbarTables","scrollbarDiapo","indexDiapo","editeur","boutonGo","zoneTables","zoneEditeur","zoneResultat","nbResultats","scrollbarResultat","addEventListener","CodeMirror","fromTextArea","getElementById","lineNumbers","theme","lineWrapping","mode","extraKeys","lancerRequete","setValue","zoneActionsSQL","imgLogo","boutonDownload","iconeBoutonDownload","inputOpen","boutonInputOpen","iconeBoutonInputOpen","boutonTheme","PerfectScrollbar","detail","index","update","getValue","files","contenu","getOption","setOption","afficherTables","db","SQL","Database","script","exec","dbPromise","Promise","resolve","reject","requete","then","resultat","afficherResultat","length","catch","erreur","afficherErreur","verifierQuestions","queryResult","jsonResultat","hashReponse","JSON","stringify","console","log","test","reponseProposee","emettreQuestionReussie","entrainement","testReussi","CustomEvent","questionId","dispatchEvent","innerHTML","undefined","values","tableResultat","theadResultat","tbodyResultat","trTheadResultat","columns","forEach","colonne","thTrTheadResultat","ligne","trTbodyResultat","valeur","tdTrTbodyResultat","pErreur","reponse","hash","i","char","charCodeAt","listeTables","ulTables","spanTable","table","liTable","toggle","ulColonnes","liColonne","listeColonnes","cloneNode"],"mappings":"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","file":"js/capcode-sql.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/sql/js/capcode-sql.js\");\n","/* UTILITAIRES\n * Manipulation de fichiers, du DOM...\n * ------------------------------------------------------------------------------------------ */\n\n function creerElement(type, options = {}) {\n     const element = document.createElement(type);\n\n     if (options.hasOwnProperty('id')) { // ID de l'élément\n         element.id = options.id;\n     }\n\n     if (options.hasOwnProperty('text')) { // Texte de l'élément\n         element.innerText = options.text;\n     }\n\n     if (options.hasOwnProperty('class')) { // Classes attribuées\n         DOMTokenList.prototype.add.apply(element.classList, options.class);\n     }\n\n     if (options.hasOwnProperty('type')) { // type de l'élément input\n         element.type = options.type;\n     }\n\n     if (options.hasOwnProperty('disabled')) { // Attribut DISABLED\n         element.disabled = options.disabled;\n     }\n\n     if (options.hasOwnProperty('for')) { // Association des labels à leurs inputs\n         element.htmlFor = options.for;\n     }\n\n     if (options.hasOwnProperty('src')) { // Attribut src\n         element.src = options.src;\n     }\n\n     if (options.hasOwnProperty('href')) { // Attribut href\n         element.href = options.href;\n     }\n\n     if (options.hasOwnProperty('title')) { // Attribut title\n         element.title = options.title;\n     }\n\n     if (options.hasOwnProperty('target')) { // Attribut target\n         element.target = options.target;\n     }\n\n     return element;\n }\n\n/* Fonction générique d'ajout d'un élément d'interface\n *\n * @param type (string) Type d'élément à insérer\n * @param parent (Element) Conteneur de l'élément créé\n * @param options (Object) Liste des options - 'id' : ID de l'élément créé, 'text' : contenu texte,\n *                                             'class' : tableau de classes à attribuer à l'élément,\n *                                             'disabled' : valeur de l'attribut DISABLED de l'élément\n */\nexport function ajouterElement(type, parent, options = {}) {\n    const nouvelElement = creerElement(type, options);\n    parent.appendChild(nouvelElement);\n    return nouvelElement;\n}\n\nexport function ajouterElementAvant(type, parent, reference, options = {}) {\n    const nouvelElement = creerElement(type, options);\n    parent.appendChild(nouvelElement, reference);\n    return nouvelElement;\n}\n\n// Chargement du contenu d'un fichier à partir de son adresse\nexport function chargerFichier(source, callback) {\n    var f = new XMLHttpRequest();\n    f.open('GET', source, false);\n    f.overrideMimeType('text/plain');\n    f.onreadystatechange = function() {\n        if (f.readyState === 4) {\n            if (f.status === 200 || f.status === 0) {\n                callback(f.response);\n            }\n        }\n    };\n    f.send();\n}\n\n// Lecture d'un fichier\nexport function lireFichier(fichier, callback) {\n    var fileReader = new FileReader();\n    fileReader.onload = function(event) {\n        callback(event.target.result);\n    };\n\n    fileReader.readAsText(fichier, \"UTF-8\");\n}\n\n// Enregistrement\nexport function enregistrerFichier(data, filename, type) {\n    var file = new Blob([data], {\n        type: type\n    });\n    if (window.navigator.msSaveOrOpenBlob) { // IE10+\n        window.navigator.msSaveOrOpenBlob(file, filename);\n    } else { // Others\n        var a = document.createElement(\"a\"),\n            url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function() {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    }\n}\n","export const reponsesTests = {\n    diapo2: {\n        'Test_1': 1740489161\n    }\n};\n\nexport const reponsesEntrainements = {\n    diapo2: {\n        'Entrainement_1': -667795682\n    }\n};\n","import showdown from 'showdown';\n// import '../../share/js/capcode-showdown';\nimport CodeMirror from 'codemirror';\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport SQL from 'sql';\nimport {\n    ajouterElement,\n    ajouterElementAvant,\n    lireFichier,\n    chargerFichier,\n    enregistrerFichier\n} from '../../core/js/capcode-utils';\nimport {\n    reponsesTests,\n    reponsesEntrainements\n} from './capcode-sql-reponses';\n\nimport '../style/capcode-sql.scss';\n\n/* Les paramètres éventuellement passés dans le fichier markdown source sont accessibles via l'objet capcode.core.params */\n\nconst CONCEPTION = true;\n\nlet zoneDiapo,\n    scrollbarTables,\n    scrollbarDiapo,\n    indexDiapo,\n    editeur,\n    boutonGo,\n    zoneTables,\n    zoneEditeur,\n    zoneResultat,\n    nbResultats,\n    scrollbarResultat;\n\n// Chargement de la page => initialisation de la coloration syntaxique dans la zone de saisie\ndocument.addEventListener('capcodeCoreLoaded', function() {\n    editeur = CodeMirror.fromTextArea(document.getElementById(\"editeur\"), {\n        lineNumbers: true,\n        theme: \"capcode-light\",\n        lineWrapping: true,\n        mode: \"text/x-pgsql\",\n        extraKeys: {\n            'Ctrl-Enter': lancerRequete\n        }\n    });\n    editeur.setValue('SELECT * FROM personnes;');\n});\n\n// Interface core en place => Finalisation de l'interface SQL\ndocument.addEventListener('capcodeCoreInterface', function(event) {\n    // Finalisation de l'interface (ajout de boutons spécifiques SQL...)\n    const zoneActionsSQL = document.getElementById('actions-theme');\n\n    // Bouton de sauvegarde de la saisie\n    const imgLogo = ajouterElement('img', zoneActionsSQL, {\n        class: ['logo'],\n        src: 'assets/sql/logo_capsql.svg'\n    });\n\n    // Bouton de sauvegarde de la saisie\n    const boutonDownload = ajouterElement('button', zoneActionsSQL, {\n        class: ['btn', 'btn--default-light'],\n        title: 'Sauvegarder'\n    });\n    const iconeBoutonDownload = ajouterElement('i', boutonDownload, {\n        text: 'save',\n        class: ['material-icons']\n    });\n\n    // Bouton de chargement d'un script précédemment sauvegardé\n    const inputOpen = ajouterElement('input', zoneActionsSQL, {\n        id: 'input-open',\n        class: ['absent'],\n        type: 'file'\n    });\n    const boutonInputOpen = ajouterElement('label', zoneActionsSQL, {\n        class: ['btn', 'btn--default-light'],\n        title: 'Ouvrir un fichier',\n        for: 'input-open'\n    });\n    const iconeBoutonInputOpen = ajouterElement('i', boutonInputOpen, {\n        text: 'folder',\n        class: ['material-icons']\n    });\n\n    // Bouton d'inversion du thème\n    const boutonTheme = ajouterElementAvant('li', document.getElementById('liste-plus'), document.getElementById('li-contact'));\n    ajouterElement('i', boutonTheme, {\n        class: ['material-icons'],\n        text: 'toggle_theme'\n    });\n    ajouterElement('span', boutonTheme, {\n        text: \"Changer le thème\",\n        class: ['cliquable']\n    });\n\n    boutonGo = document.getElementById('bouton-go');\n    zoneTables = document.getElementById('zone-tables');\n    zoneEditeur = document.getElementById('zone-editeur');\n    zoneResultat = document.getElementById('zone-resultat');\n    nbResultats = document.getElementById('nb-resultats');\n    scrollbarResultat = new PerfectScrollbar(zoneResultat);\n\n    /* EVENEMENTS\n     * ---------------------------------------------------------------------------------------------- */\n    // Boutons d'action \"Go\"\n    boutonGo.addEventListener('click', lancerRequete);\n    boutonGo.classList.add('absent');\n\n    // A chaque changement de diapo, actualisation des scrollbars\n    document.addEventListener('capcodeCoreChgtDiapo', function(event) {\n        indexDiapo = event.detail.index;\n        scrollbarDiapo.update();\n    });\n\n    // Bouton d'action \"Sauvegarder\"\n    boutonDownload.addEventListener('click', function() {\n        enregistrerFichier(editeur.getValue(), 'Sans nom.sql', 'text/sql');\n    });\n\n    // Chargement d'un fichier\n    inputOpen.addEventListener('change', function(event) {\n        lireFichier(event.target.files[0], function(contenu) {\n            editeur.setValue(contenu);\n        });\n    });\n\n    // Inversion du thème\n    boutonTheme.addEventListener('click', function(event) {\n        const theme = editeur.getOption('theme') == 'capcode-dark' ? 'capcode-light' : 'capcode-dark';\n        editeur.setOption('theme', theme);\n    });\n\n    // Mise à jour des scrollbars\n    zoneDiapo = document.getElementById('zone-diapo');\n    scrollbarDiapo = new PerfectScrollbar(zoneDiapo);\n\n    // Affichage de la liste des tables\n    afficherTables();\n});\n\n\n\n// Chargement des tables sur le \"serveur\"\nvar db = new SQL.Database();\nchargerFichier('assets/sql/capcode-sql-data.sql', function(script) {\n    db.exec(script);\n});\n\n\n\nfunction lancerRequete() {\n    const dbPromise = new Promise(function(resolve, reject) {\n            const requete = db.exec(editeur.getValue());\n            resolve(requete);\n        })\n        .then(function(resultat) {\n            afficherResultat(resultat[resultat.length - 1]);\n        })\n        .catch(function(erreur) {\n            afficherErreur(erreur);\n        });\n}\n\nfunction verifierQuestions(index, queryResult) {\n    const jsonResultat = hashReponse(JSON.stringify(queryResult));\n\n    if (CONCEPTION) {\n        console.log('Diapo ' + index, jsonResultat);\n    }\n\n    // La requête répond-elle à un test bloquant ?\n    for (let test in reponsesTests['diapo' + index]) {\n        if (reponsesTests['diapo' + index].hasOwnProperty(test)) {\n            const reponseProposee = reponsesTests['diapo' + index][test];\n            if (reponseProposee === jsonResultat) {\n                emettreQuestionReussie(index, test, 'test');\n            }\n        }\n    }\n\n    // La requête répond-elle à un entrainement ?\n    for (let entrainement in reponsesEntrainements['diapo' + index]) {\n        if (reponsesEntrainements['diapo' + index].hasOwnProperty(entrainement)) {\n            const reponseProposee = reponsesEntrainements['diapo' + index][entrainement];\n            if (reponseProposee === jsonResultat) {\n                // Emission d'un signal pour mise à jour du diaporama\n                emettreQuestionReussie(index, entrainement, 'entrainement');\n            }\n        }\n    }\n}\n\nfunction emettreQuestionReussie(index, test, type) {\n    const testReussi = new CustomEvent('capcodeCoreQuestionReussie', {\n        detail: {\n            indexDiapo: index + 1,\n            questionId: test,\n            type: type\n        }\n    });\n    document.dispatchEvent(testReussi);\n}\n\nfunction afficherResultat(resultat) {\n    zoneResultat.innerHTML = '';\n\n    verifierQuestions(indexDiapo, resultat);\n\n    if (resultat === undefined) { // Aucun résultat\n        nbResultats.innerText = 'Aucune ligne extraite'; // Affichage du nombre de lignes\n    } else { // Présence d'au moins un résultat\n        // Affichage du nombre de lignes\n        if (resultat.values.length === 1) {\n            nbResultats.innerText = '1 ligne extraite';\n        } else {\n            nbResultats.innerText = resultat.values.length + ' lignes extraites';\n        }\n\n        // Tableau de résultats\n\n        const tableResultat = document.createElement('table');\n        const theadResultat = document.createElement('thead');\n        const tbodyResultat = document.createElement('tbody');\n        const trTheadResultat = document.createElement('tr');\n\n        resultat.columns.forEach(function(colonne) {\n            const thTrTheadResultat = document.createElement('th');\n            thTrTheadResultat.innerText = colonne;\n            trTheadResultat.appendChild(thTrTheadResultat);\n        });\n\n        theadResultat.appendChild(trTheadResultat);\n        tableResultat.appendChild(theadResultat);\n\n        resultat.values.forEach(function(ligne) {\n            const trTbodyResultat = document.createElement('tr');\n\n            ligne.forEach(function(valeur) {\n                const tdTrTbodyResultat = document.createElement('td');\n                tdTrTbodyResultat.innerText = valeur;\n                trTbodyResultat.appendChild(tdTrTbodyResultat);\n            });\n\n            tbodyResultat.appendChild(trTbodyResultat);\n        });\n\n        tableResultat.appendChild(tbodyResultat);\n\n        zoneResultat.appendChild(tableResultat);\n    }\n\n    scrollbarResultat.update();\n}\n\nfunction afficherErreur(erreur) {\n    zoneResultat.innerHTML = '';\n    nbResultats.innerText = 'Une erreur s\\'est produite :(';\n\n    const pErreur = document.createElement('p');\n    pErreur.innerText = erreur;\n    pErreur.classList.add('erreur');\n    zoneResultat.appendChild(pErreur);\n}\n\nfunction hashReponse(reponse) {\n    let hash = 0;\n    if (reponse.length == 0) {\n        return hash;\n    }\n    for (let i = 0; i < reponse.length; i++) {\n        let char = reponse.charCodeAt(i);\n        hash = ((hash << 5) - hash) + char;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n\n// Alimentation de la liste des tables\nfunction afficherTables() {\n    const listeTables = db.exec(\"SELECT name FROM sqlite_master WHERE type='table';\");\n    const ulTables = document.createElement('ul');\n    const spanTable = document.createElement('span');\n\n    listeTables[0].values.forEach(function(table) {\n\n        if (table != 'sqlite_sequence') {\n            const liTable = document.createElement('li');\n            liTable.classList.add('compact');\n            liTable.innerText = table;\n            liTable.title = 'Afficher les colonnes de la table';\n            liTable.addEventListener('click', function(event) {\n                event.target.classList.toggle('compact');\n            });\n\n            // Nom des tables\n\n            const ulColonnes = document.createElement('ul');\n            const liColonne = document.createElement('li');\n            const listeColonnes = db.exec(\"pragma table_info(\" + table + \");\");\n\n            listeColonnes[0].values.forEach(function(colonne) {\n                liColonne.innerHTML = colonne[1] + ' <span class=\"type\">' + colonne[2] + '</span>';\n                ulColonnes.appendChild(liColonne.cloneNode(true));\n            });\n\n            liTable.appendChild(ulColonnes.cloneNode(true));\n            ulTables.appendChild(liTable);\n        }\n    });\n    zoneTables.appendChild(ulTables);\n    scrollbarTables = new PerfectScrollbar(zoneTables);\n}\n","// extracted by mini-css-extract-plugin","module.exports = CodeMirror;","module.exports = PerfectScrollbar;","module.exports = showdown;","module.exports = SQL;"],"sourceRoot":""}